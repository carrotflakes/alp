query me {
  me {
    id
    name
  }
}

mutation createUser($name: String!) {
  createUser(name: $name) {
    id
    uid
    name
  }
}

query allMessages {
  allMessages {
    ...MyMessage
  }
}

query messages($last: Int!, $startCursor: String) {
  messages(last: $last, before: $startCursor) {
    pageInfo {
      startCursor
      endCursor
      hasPreviousPage
      hasNextPage
    }
    edges {
      node {
        ...MyMessage
      }
    }
  }
}

mutation postMessage($text: String!) {
  postMessage(text: $text) {
    id
    text
    user {
      id
      name
	  }
    createdAt
  }
}

subscription messageAdded {
  messages(mutationType: CREATED) {
    message {
      ...MyMessage
    }
  }
}

fragment MyMessage on Message {
  id
  text
  user {
    name
  }
  createdAt
}
